(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var r=n(3),c=n(10),a=n.n(c),i=n(47),o=n.n(i),s=(n(66),n(16)),l=n.n(s),u=n(12),d=n(13),b=n(11),j=n(28),f=n(17),O=(n(69),n(70),n(8));function h(e){var t=function(e){return Object(O.a)(Array(e).keys())}(e.length),n=[],r=Object(O.a)(t),c=[];for(n.push(r[0]),r.splice(0,1);r.length>0;){for(var a=99999999999999,i=0,o=0,s=0;s<n.length;s++)for(var l=0;l<r.length;l++){var u=e[n[s]][r[l]];u<a&&0!==u&&(a=u,i=s,o=l)}c.push([n[i]+1,r[o]+1]),n.push(r[o]),r.splice(o,1)}return c}var v=n(54),m=n(53),x=n(14),g=n(9);function p(e,t){return Array(e).fill(t)}function k(e,t){return e.map((function(e,n){return e.map((function(e,r){return t(e,[n,r])}))}))}function y(e,t){var n,r;return k(p(n=t.length,r=1).map((function(e){return p(n,r)})),(function(t,n){var r,c,a=Object(b.a)(n,2),i=a[0],o=a[1];return i===o?0:null!==(r=null===(c=e[i])||void 0===c?void 0:c[o])&&void 0!==r?r:t}))}var C=Object.fromEntries(["\u0410","\u0411","\u0412","\u0413","\u0414","\u0415","\u0401","\u0416","\u0417","\u0418","\u0419","\u041a","\u041b","\u041c","\u041d","\u041e","\u041f","\u0420","\u0421","\u0422","\u0423","\u0424","\u0425","\u0426","\u0427","\u0428","\u0429","\u042a","\u042b","\u042c","\u042d","\u042e","\u042f"].map((function(e,t){return[e,"\u0426"===e?21:t+1]}))),w=function(e){return Array(e).fill(0)},M=function(e,t){return e.map((function(e,n){return e.map((function(e,r){return t(e,[n,r])}))}))};function N(e,t,n){var r,c=(r=e,Object(O.a)(new Set(r.toUpperCase().replace(" ","").split(""))).map((function(e){return C[e]}))).slice(0,t),a=w(c.length).map((function(e){return w(c.length)})),i=M(a,(function(e,t){var n=Object(b.a)(t,2),r=n[0],a=n[1];return Math.abs(c[a]-c[r])}));return{helperMatrix:i,adjacencyMatrix:M(i,(function(e,t){var r=Object(b.a)(t,2),c=r[0],a=r[1];return Number(n.some((function(t){return e%t===0&&c!==a?1:0})))}))}}function S(e){return 0===e.length?[]:e.split("\n").map((function(e){return e.split(" ").map(Number)}))}var _={dark:{primary:"white",background:"black",secondary:"lightgrey",text:"darkgrey",accent:"red"},light:{primary:"black",background:"white",secondary:"black",text:"darkgrey",accent:"red"}};function F(e){return new Promise((function(t,n){var r;e.preventDefault();var c=new FileReader;c.onload=function(){var e=Object(j.a)(l.a.mark((function e(n){var r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=null===(r=n.target)||void 0===r?void 0:r.result,console.log("File loaded",{text:c}),t(String(c));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var a=null===(r=e.target.files)||void 0===r?void 0:r[0];console.log({fileBlob:a,files:e.target.files}),a?(console.log("Begin loading file"),c.readAsText(a)):n("Error: can't begin reading the file: file is null")}))}var E=function(e){return!e},A=Object(g.createEvent)({name:"toggleTheme",sid:"-uy5kcp"}),T=Object(g.createEvent)({name:"toggleMode",sid:"-1ogb7v"}),$=Object(g.createEvent)({name:"toggleAdjacencyMatrixModal",sid:"-jfl6kp"}),z=Object(g.createEvent)({name:"toggleWeightMatrixModal",sid:"w2jixy"}),P=Object(g.createEvent)({name:"toggleActions",sid:"p2a03q"}),D=Object(g.createEvent)({name:"loadGraphFromGV",sid:"2dzl9w"}),G=Object(g.createEvent)({name:"loadAdjacencyMatrixFromFile",sid:"-vku7iu"}),I=Object(g.createEvent)({name:"loadWeightMatrixFromFile",sid:"-8gjquo"}),R=Object(g.createEvent)({name:"setName",sid:"yo43k"}),B=Object(g.createEvent)({name:"setSize",sid:"-ei7p07"}),W=Object(g.createEvent)({name:"setDividers",sid:"-1tvtai"}),q=Object(g.createEvent)({name:"setAdjacencyMatrix",sid:"-wbor7"}),H=Object(g.createEvent)({name:"setWeightMatrix",sid:"1betej"}),L=Object(g.createEvent)({name:"setHilightedSubGraph",sid:"46lotq"}),J=Object(g.createEvent)({name:"toggleIsHighlighted",sid:"-fp917r"}),U=Object(g.createEffect)({handler:F},{name:"fxLoadAdjacencyMatrixFromFile",sid:"-vkfy3k"}),V=Object(g.createEffect)({handler:F},{name:"fxLoadWeightMatrixFromFile",sid:"o2kw5b"}),X=Object(g.createStore)("dark",{name:"$theme",sid:"m1ju2"}).on(A,(function(e){return"dark"===e?"light":"dark"})),K=Object(g.createStore)("3D",{name:"$mode",sid:"-ol926o"}).on(T,(function(e){return"3D"===e?"2D":"3D"})),Q=X.map((function(e){return _[e]})),Y=Object(g.createStore)(!1,{name:"$isAdjacencyMatrixModalOpened",sid:"hiszp1"}).on($,E),Z=Object(g.createStore)(!1,{name:"$isWeightMatrixModalOpened",sid:"-edifh2"}).on(z,E),ee=Object(g.createStore)(!1,{name:"$isActionsMinimised",sid:"-5wxpq8"}).on(P,E),te=(Object(g.createStore)(!1,{name:"$isHighlighted",sid:"68tn20"}).on(J,E),Object(g.restore)(L,{links:[],nodes:[]},{name:"$hilightedSubGraph",sid:"-h7h2a1"}).reset(G,D)),ne=Object(g.restore)(V.doneData,"",{name:"$weightMatrixFileContents",sid:"-nfcp6c"}),re=Object(g.restore)(U.doneData,"",{name:"$adjacencyMatrixFileContents",sid:"-5r7etf"}),ce=Object(g.restore)(q,[[]],{name:"$adjacencyMatrix",sid:"bsbo4v"}),ae=Object(g.restore)(H,[[]],{name:"$weightMatrix",sid:"-mhcwsc"}).on(ce,(function(e,t){return t.length>e.length?y(e,t):e.slice(0,t.length).map((function(e){return e.slice(0,t.length)}))})),ie=Object(g.restore)(R,"\u0417\u0430\u0439\u0446\u0435\u0432 \u0415\u0432\u0433\u0435\u043d\u0438\u0439 \u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u043e\u0432\u0438\u0447",{name:"$gvName",sid:"-lykqou"}),oe=Object(g.restore)(B,"7",{name:"$gvSize",sid:"-8jl0n2"}),se=Object(g.restore)(W,"2 3",{name:"$gvDividers",sid:"5rf4ra"}),le=Object(g.createStore)({links:[],nodes:[]},{name:"$graph",sid:"653az9"}).on(ce,(function(e,t){return{nodes:(n=t).map((function(e,t){return{id:t+1}})),links:k(n,(function(e,t){var n=Object(b.a)(t,2),r=n[0],c=n[1];return e?[{source:r+1,target:c+1,weight:1}]:[]})).flat(2)};var n})).on(ae,(function(e,t){return r=t,{nodes:(n=e).nodes,links:n.links.map((function(e){var t,n;return Object(d.a)(Object(d.a)({},e),{},{weight:null!==(t=null===(n=r[e.source.id-1])||void 0===n?void 0:n[e.target.id-1])&&void 0!==t?t:1})}))};var n,r}));Object(g.sample)({"\u0254":[{clock:D,source:Object(g.combine)({"\u0254":[ie,oe,se],config:{name:"source",sid:"mnp8ec"}}),fn:function(e){var t=Object(b.a)(e,3),n=t[0],r=t[1],c=t[2];return N(n.replace(" ",""),isNaN(Number(r))?7:Number(r),c.split(" ").map((function(e){return isNaN(Number(e))?1:Number(e)}))).adjacencyMatrix},target:ce}],config:{sid:"-37f94w"}}),Object(g.sample)({"\u0254":[{clock:G,source:re,fn:S,target:ce}],config:{sid:"-2c2zbb"}}),Object(g.sample)({"\u0254":[{clock:I,source:ne,fn:S,target:ae}],config:{sid:"-288f5s"}});var ue=n(31),de=n(1),be=20;function je(e){var t=e.colors,n=e.highlightedSubGraph;return function(e){var r=e.id,c=new de.H(10,be,be),a=n.nodes.find((function(e){return r===e.id})),i=new de.u({color:a?t.accent:t.primary,transparent:!0,opacity:.75}),o=new ue.a(String(r),8,t.text),s=new de.s(c,i),l=new de.v;return l.add(s),l.add(o),l}}function fe(e){var t=e.colors;e.highlightedSubGraph;return function(e){var n=e.weight,r=new ue.a("".concat(n));r.color=t.primary,r.backgroundColor="transparent",r.textHeight=5;var c=new de.v;return c.add(r),c}}var Oe=n(7);function he(e){var t=e.colors;return function(e,n){var r=e.source,c=e.target;if("object"===typeof r&&"object"===typeof c){var a=Object.assign.apply(Object,Object(O.a)(["x","y"].map((function(e){return Object(Oe.a)({},e,r[e]+(c[e]-r[e])/2)})))),i={x:c.x-r.x,y:c.y-(null===r||void 0===r?void 0:r.y)},o=Math.atan2(i.y,i.x);o>Math.PI/2&&(o=-(Math.PI-o)),o<-Math.PI/2&&(o=-(-Math.PI-o));var s=e.weight,l=String(s),u=n.measureText(l).width;n.font="".concat(20,"px Sans-Serif"),n.save(),n.translate(a.x,a.y),n.rotate(o),n.fillStyle=t.background,n.beginPath(),n.rect(-2-u/2,-10,u+4,20),n.fill(),n.textAlign="center",n.textBaseline="middle",n.fillStyle=t.primary,n.fillText(l,0,0),n.restore()}}}function ve(e,t){var n=t.start,r=t.end,c=Object.assign.apply(Object,Object(O.a)(["x","y","z"].map((function(e){return Object(Oe.a)({},e,n[e]+(r[e]-n[e])/2)}))));return Object.assign(e.position,c),!1}function me(e){var t=e.colors,n=e.highlightedSubGraph;return function(e,r,c){var a=e.id,i=e.x,o=e.y,s=String(a),l=n.nodes.find((function(e){return a===e.id}));r.fillStyle=l?t.accent:t.background,r.strokeStyle=t.primary,r.beginPath(),r.arc(i,o,30,0,2*Math.PI,!1),r.fill(),r.stroke(),r.closePath(),r.textBaseline="middle",r.font="".concat(20,"px Sans-Serif"),r.textAlign="center",r.fillStyle=t.primary,r.fillText(s,i,o)}}var xe=l.a.mark(pe),ge=function(e){return Object(O.a)(Array(e).keys())};function pe(e,t){var n,r,c,a,i,o,s,u,d,b,j,f,h,v;return l.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:n=e.length,r=ge(n),c=[],a=Object(O.a)(r),i=[],c.push(a[0]),a.splice(0,1);case 7:if(!(a.length>0)){l.next=19;break}for(o=Number.MAX_SAFE_INTEGER,s=0,u=0,d=0;d<c.length;d++)for(b=0;b<a.length;b++)h=null!==(j=null===(f=t[c[d]])||void 0===f?void 0:f[a[b]])&&void 0!==j?j:1,v=0!==e[c[d]][a[b]],h<o&&v&&(o=h,s=d,u=b);return i.push([c[s]+1,a[u]+1]),l.next=15,i;case 15:c.push(a[u]),a.splice(u,1),l.next=7;break;case 19:return l.abrupt("return",i);case 20:case"end":return l.stop()}}),xe)}function ke(e){return new Promise((function(t){return setTimeout(t,1e3*e)}))}n(97);function ye(e){var t=e.children,n=e.visible,c=void 0!==n&&n,a=e.onClose,i=void 0===a?f.noop:a;return c?Object(r.jsxs)("div",{className:"modal",children:[t,Object(r.jsx)("div",{className:"modal__close",onClick:i,children:"\xd7"})]}):Object(r.jsx)(r.Fragment,{})}n(98);function Ce(e){var t=e.children,n=e.minimized,c=void 0!==n&&n,a=e.title,i=void 0===a?"Actions":a,o=e.onToggle,s=void 0===o?f.noop:o;return Object(r.jsxs)("div",{className:"overlay",children:[Object(r.jsxs)("div",{className:"overlay__title-container",children:[i,Object(r.jsx)("div",{className:"overlay__toggle",onClick:s,children:c?"\u25bc":"\u25b2"})]}),!c&&Object(r.jsx)("div",{className:"overlay__content-container",children:t})]})}n(99);function we(e){var t=e.matrix,n=e.onEditCell,c=void 0===n?f.noop:n,a=e.onAddRow,i=void 0===a?f.noop:a,o=e.onAddCol,s=void 0===o?f.noop:o,l=e.onRemoveRow,u=void 0===l?f.noop:l,d=e.onRemoveCol,b=void 0===d?f.noop:d;return Object(r.jsxs)("div",{className:"matrix",children:[t.map((function(e,t){return Object(r.jsx)("div",{className:"matrix__row",children:e.map((function(e,n){return Object(r.jsxs)("div",{className:"matrix__cell-container",children:[Object(r.jsx)("input",{className:"matrix__cell",type:"text",value:e,onChange:(a=[t,n],function(e){c(a,e.currentTarget.value)})}),Object(r.jsxs)("div",{className:"matrix__index",children:[t+1,",",n+1]})]});var a}))})})),Object(r.jsxs)("div",{className:"matrix__controls",children:[Object(r.jsxs)("div",{className:"matrix__controls-row",children:[Object(r.jsx)("button",{className:"matrix__add-row",onClick:i,children:"+"}),Object(r.jsx)("button",{className:"matrix__rem-row",onClick:u,children:"-"})]}),Object(r.jsxs)("div",{className:"matrix__controls-col",children:[Object(r.jsx)("button",{className:"matrix__add-col",onClick:s,children:"+"}),Object(r.jsx)("button",{className:"matrix__rem-col",onClick:b,children:"-"})]})]})]})}function Me(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return!0},r=Number(e);return!isNaN(r)&&n(r)?r:t}function Ne(e,t,n){var r=Object(b.a)(t,2),c=r[0],a=r[1];return k(e,(function(e,t){var r=Object(b.a)(t,2),i=r[0],o=r[1];return i===c&&o===a||i===a&&o===c?n:e}))}function Se(){var e=Object(x.a)(Q),t=Object(x.a)(K),n=Object(x.a)(X),a=Object(x.a)(le),i=Object(x.a)(ce),o=Object(x.a)(ae),s=Object(x.a)(ie),O=Object(x.a)(oe),g=Object(x.a)(se),p=Object(x.a)(te),k=Object(x.a)(ee),y=Object(x.a)(Y),C=Object(x.a)(Z),w=Object(c.useRef)(),M=Object(c.useRef)();function N(e){return function(t){e(t.currentTarget.value)}}Object(c.useEffect)((function(){var e,t,n;null===(e=w.current)||void 0===e||e.d3Force("charge").strength(-500),null===(t=M.current)||void 0===t||t.d3Force("link").distance(500),null===(n=M.current)||void 0===n||n.d3Force("charge").strength(-500)}));var S={graphData:a,backgroundColor:e.background,nodeLabel:function(e){return String(e.id)},nodeColor:function(){return e.primary},linkColor:function(t){var n=t.source,r=t.target;return p.links.find((function(e){return e.source===n.id&&e.target===r.id}))?e.accent:e.secondary},linkWidth:function(e){var t=e.source,n=e.target;return p.links.find((function(e){return e.source===t.id&&e.target===n.id}))?6:2}};function _(){return(_=Object(j.a)(l.a.mark((function e(t){var n,r,c,a,s,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=pe(i,o),r=Object(u.a)(n),e.prev=2,r.s();case 4:if((c=r.n()).done){e.next=13;break}return a=c.value,s=a.map((function(e){var t=Object(b.a)(e,2);return{source:t[0],target:t[1]}})),d=Object(f.uniqBy)(a.flatMap((function(e){var t=Object(b.a)(e,2);return[{id:t[0]},{id:t[1]}]})),"id"),L({nodes:d,links:s}),e.next=11,ke(.5);case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[2,15,18,21]])})))).apply(this,arguments)}var F={colors:e,highlightedSubGraph:p};return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsxs)(ye,{visible:y,onClose:$,children:[Object(r.jsx)("p",{children:"\u041c\u0430\u0442\u0440\u0438\u0446\u0430 \u0441\u043c\u0435\u0436\u043d\u043e\u0441\u0442\u0438: "}),Object(r.jsx)(we,{matrix:i,onEditCell:function(e,t){var n=Object(b.a)(e,2),r=n[0],c=n[1],a=Me(t,0,(function(e){return(0===e||1===e)&&r!==c})),o=Ne(i,[r,c],a);q(o)}})]}),Object(r.jsxs)(ye,{visible:C,onClose:z,children:[Object(r.jsx)("p",{children:"\u041c\u0430\u0442\u0440\u0438\u0446\u0430 \u0432\u0435\u0441\u043e\u0432: "}),Object(r.jsx)(we,{matrix:o,onEditCell:function(e,t){var n=Object(b.a)(e,2),r=n[0],c=n[1],a=Me(t,0,(function(){return r!==c})),i=Ne(o,[r,c],a);H(i)}})]}),Object(r.jsxs)(Ce,{minimized:k,onToggle:P,children:[Object(r.jsxs)("button",{onClick:A,children:["\u0422\u0435\u043c\u0430: ",n]}),Object(r.jsx)("br",{}),Object(r.jsxs)("button",{onClick:T,children:["\u0420\u0435\u0436\u0438\u043c: ",t]}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{htmlFor:"adjacencyMatrixFile",children:"Adjacency matrix: "}),Object(r.jsx)("input",{type:"file",onChange:U}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{htmlFor:"weightMatrixFile",children:"Weight matrix: "}),Object(r.jsx)("input",{type:"file",onChange:V}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{onClick:G,children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043c\u0430\u0442\u0440\u0438\u0446\u0443 \u0441\u043c\u0435\u0436\u043d\u043e\u0441\u0442\u0438 \u0438\u0437 \u0444\u0430\u0439\u043b\u0430"}),Object(r.jsx)("button",{onClick:I,children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043c\u0430\u0442\u0440\u0438\u0446\u0443 \u0432\u0435\u0441\u043e\u0432 \u0438\u0437 \u0444\u0430\u0439\u043b\u0430"}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{htmlFor:"name",children:"\u0418\u043c\u044f: "}),Object(r.jsx)("input",{type:"text",name:"name",value:s,onChange:N(R)}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{htmlFor:"size",children:"\u0420\u0430\u0437\u043c\u0435\u0440: "}),Object(r.jsx)("input",{type:"text",name:"size",value:O,onChange:N(B)}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{htmlFor:"dividers",children:"\u0414\u0435\u043b\u0438\u0442\u0435\u043b\u0438: "}),Object(r.jsx)("input",{type:"text",name:"dividers",value:g,onChange:N(W)}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{onClick:D,children:"\u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u0437 GV"}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{onClick:function(e){var t=h(i).map((function(e){var t=Object(b.a)(e,2);return{source:t[0],target:t[1]}})),n=i.map((function(e,t){return{id:t+1}}));L({nodes:n,links:t})},children:"\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c \u041f\u0440\u0438\u043c\u0430"}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{onClick:function(e){return _.apply(this,arguments)},children:"\u0410\u043d\u0438\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c \u041f\u0440\u0438\u043c\u0430"}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{onClick:function(){var e,t;null===(e=w.current)||void 0===e||e.zoomToFit(400),null===(t=M.current)||void 0===t||t.zoomToFit(400)},children:"\u041c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043c\u0435\u0449\u0430\u043b\u043e\u0441\u044c"}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{onClick:$,children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043c\u0430\u0442\u0440\u0438\u0446\u0443 \u0441\u043c\u0435\u0436\u043d\u043e\u0441\u0442\u0438"}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{onClick:z,children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043c\u0430\u0442\u0440\u0438\u0446\u0443 \u0432\u0435\u0441\u043e\u0432"})]}),"3D"===t?Object(r.jsx)(v.a,Object(d.a)(Object(d.a)({},S),{},{ref:w,nodeThreeObject:je(F),linkThreeObject:fe(F),linkThreeObjectExtend:!0,linkPositionUpdate:ve})):Object(r.jsx)(m.a,Object(d.a)(Object(d.a)({},S),{},{ref:M,nodeColor:e.primary,nodeCanvasObjectMode:function(){return"after"},nodeCanvasObject:me(F),linkCanvasObjectMode:function(){return"after"},linkCanvasObject:he(F),nodeRelSize:30}))]})}var _e=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,112)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};o.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(Se,{})}),document.getElementById("root")),_e()},66:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[100,1,2]]]);
//# sourceMappingURL=main.17141658.chunk.js.map